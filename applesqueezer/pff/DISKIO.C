/*-----------------------------------------------------------------------*//* Low level disk I/O module skeleton for Petit FatFs (C)ChaN, 2014      *//*-----------------------------------------------------------------------*/#include "diskio.h"/*-----------------------------------------------------------------------*//* Initialize Disk Drive                                                 *//*-----------------------------------------------------------------------*/DSTATUS disk_initialize (void){	DSTATUS stat = 0;	// Put your code here	return stat;}void skip(int count) {	for (int i = 0; i < count; i++) {		BYTE byte = *((BYTE *) SD_READ);	}}/*-----------------------------------------------------------------------*//* Read Partial Sector                                                   *//*-----------------------------------------------------------------------*/DRESULT disk_readp (	BYTE* buff,		/* Pointer to the destination object */	DWORD sector,	/* Sector number (LBA) */	UINT offset,	/* Offset in the sector */	UINT count		/* Byte count (bit15:destination) */){	DRESULT res;	int bytesRead = 0;	// set address	*((char *) SD_ADDRESS_SET_MSB) = sector >> 24;	*((char *) SD_ADDRESS_SET_MSB_1) = (sector >> 16) & 0xff;	*((char *) SD_ADDRESS_SET_MSB_2) = (sector >> 8) & 0xff;	*((char *) SD_ADDRESS_SET_MSB_3) = sector & 0xff;	// start reading	*((char *) SD_START_READ) = 0x01; // dummy data	// read max. 512 bytes	//for (int i = 0; i < 512; i++) {	//	BYTE byte = *((BYTE *) SD_READ);	//	if (i >= offset && bytesRead < count) {	//		*buff++ = byte;	//		bytesRead++;	//	}	//}		int bc = 512 - offset - count;	if (offset) skip(offset);		int count8 = count / 8;	if (count8) {		do {			*buff++ = *((BYTE *) SD_READ);                        *buff++ = *((BYTE *) SD_READ);                        *buff++ = *((BYTE *) SD_READ);                        *buff++ = *((BYTE *) SD_READ);                        *buff++ = *((BYTE *) SD_READ);                        *buff++ = *((BYTE *) SD_READ);                        *buff++ = *((BYTE *) SD_READ);                        *buff++ = *((BYTE *) SD_READ);			                        count -= 8;			} while (--count8);	}		if (count) {		do {			*buff++ = *((BYTE *) SD_READ);		} while (--count);	}	skip(bc);	res = RES_OK;	return res;}/*-----------------------------------------------------------------------*//* Write Partial Sector                                                  *//*-----------------------------------------------------------------------*/DRESULT disk_writep (	BYTE* buff,		/* Pointer to the data to be written, NULL:Initiate/Finalize write operation */	DWORD sc		/* Sector number (LBA) or Number of bytes to send */){	DRESULT res;	if (!buff) {		if (sc) {			// Initiate write process		} else {			// Finalize write process		}	} else {		// Send data to the disk	}	return res;}