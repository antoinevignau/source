*
* Bubble Bobble
*
* (c) 1988, Taito
* (s) 2020, Antoine Vignau
*

	mx	%11
	org	$0800
	lst	off

*-------------------------------

KBD	=	$C000
CLR80VID =	$C00C
KBDSTROBE =	$C010
ROMIN2	=	$C081
INIT	=	$FB2F
HOME	=	$FC58

*-------------------------------

	DB	$01

	LDX	$2B
	TXA
	LSR
	LSR
	LSR
	LSR
	ORA	#$C0
	STA	L0848+2
	LDA	$C088,X
	BIT	ROMIN2
	STA	CLR80VID
	JSR	INIT
	JSR	HOME
	LDX	#$16
L081E	LDA	L084C,X
	STA	$0709,X
	DEX
	BPL	L081E
	LDX	#$17
L0829	LDA	L0863,X
	STA	$0530,X
	DEX
	BPL	L0829
	LDX	#$14
L0834	LDA	L087B,X
	STA	$0631,X
	DEX
	BPL	L0834
	LDA	KBDSTROBE
L0840	LDA	KBD
	BPL	L0840
	BIT	KBDSTROBE
L0848	JMP	$C600
	RTS

* BUBBLE BOBBLE DATA DISK

L084C	ASC	021502020C05
	ASC	' '020F02020C05
	ASC	' '04011401
	ASC	' '0409130B
L0863	ASC	"FLIP DISK OVER AND PRESS"
L087B	ASC	"ANY KEY TO START GAME"

	DS	\

